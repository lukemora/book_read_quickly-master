# 第8章：函数

函数是 `js` 中的一等公民。它代表了 **一组需要执行的任务或语句**。

咱们在日常开发中几乎一直都在使用函数，所以函数本身对于我们而言，应该是一个非常熟悉的东西。

那么在 《JavaScript 权威指南》中，它对于函数的讲解其实非常的全面（基础）。

从 **如何定义函数开始**，讲到 **如何调用函数 -> 函数的形参和实参的概念 -> 命名空间 -> 闭包 -> 函数的属性、方法以及静态构造函数 -> 函数式编程。**

在这些功能之中有一些易错的点，比如：

1. 闭包的概念
2. 函数对象的属性、方法和构造函数的概念

这两块，就是咱们这一小节要说明的内容。



## 01：闭包

闭包的概念是在面试的时候，经常被问到的，书中对于闭包定义的概念是：

> `JavaScript` 函数对象的内部状态不仅要包括函数代码，还要包括对函数定义所在作用域的引用。这种函数对象与作用域(即一组变量绑定)组合起来解析函数变量的机制，在计算机科学文献中被称作闭包(closure)。

通过书中也提到：

> 严格来讲，所有JavaScript函数都是闭包。

这个解释其实和咱们国内日常对于闭包的解释有一些语义上的差别。

国内通常情况下对于闭包的解释是：

> 可以访问其它函数作用域中变量的函数，就被叫做闭包函数。

那么除了这两种解释之外，在 [mdn](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures) 中也对闭包进行了解释：

> **闭包**（closure）是一个函数以及其捆绑的周边环境状态（**lexical environment**，**词法环境**）的引用的组合。换而言之，闭包让开发者可以 **从内部函数访问外部函数的作用域**。在 JavaScript 中，闭包会随着函数的创建而被同时创建。

咱们综合以上三点，其实就可以完整的得出一个闭包的权威结论：

1. 所有 `JavaScript` 函数都是闭包
2. 闭包可以访问外部函数作用域中才有的变量



## 02：函数对象的属性、方法和构造函数的概念

再看这一块之前，咱们首先需要明确一个基础的概念，那就是：**函数本质上是一个对象**。

那么对于对象而言，它本身就有属性和方法，比如说，面试常问到的 `apply、call、bind` 方法。以及 `prototype 属性`。

而针对于构造函数来说，它更像是一个约定。咱们通常约定 **首字母大写的普通函数就是构造函数** 。

> 当然，我们也可以不遵守这个约定，把所有的函数都当成构造函数使用，并不会出现错误。



## 总结

这一章中，咱们主要明确了两个点：

1. 闭包的概念：在这一块中，咱们结合 **书中的概念、国内通俗的解释、mdn 的解释** ，得出了一个相对权威的定义
2. 函数对象的一些概念：这些概念都是建立在 **函数本质上是一个对象** 的基础上延伸出来的。





